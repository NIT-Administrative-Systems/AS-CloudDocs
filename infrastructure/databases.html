<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link href="https://common.northwestern.edu/v8/icons/favicon-16.png" rel="icon" sizes="16x16" type="image/png"><link href="https://common.northwestern.edu/v8/icons/favicon-32.png" rel="icon" sizes="32x32" type="image/png"><title>Databases | AS Cloud Docs</title><meta name="description" content="Docs for Northwestern IT staff on our cloud implementation.">
    <link rel="preload" href="/AS-CloudDocs/assets/style-8d9bb470.css" as="style"><link rel="stylesheet" href="/AS-CloudDocs/assets/style-8d9bb470.css">
    <link rel="modulepreload" href="/AS-CloudDocs/assets/app-52f03298.js"><link rel="modulepreload" href="/AS-CloudDocs/assets/framework-bf3e1922.js"><link rel="modulepreload" href="/AS-CloudDocs/assets/databases.html-ac58d857.js"><link rel="modulepreload" href="/AS-CloudDocs/assets/databases.html-ab5e5dd7.js"><link rel="prefetch" href="/AS-CloudDocs/assets/design-for-cloud.html-3c7deff4.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/docs-site.html-9945fc6c.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/index.html-1bb3b299.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/roles-responsibilities.html-5d210f4f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tools.html-d70f2781.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/gha.html-d4bdbbb0.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins-ecs-agent.html-2b6c8d44.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins.html-c8eea5a6.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/shared-libs.html-5e21c5b0.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/app-patterns.html-98ea7b82.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/express-stack.html-16586735.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/frontend-stacks.html-e35f9d6e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/laravel-stack.html-c197109e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/libraries.html-de547c10.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/principles.html-7e4d142e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/spring-stack.html-a15223c6.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/policies.html-2f707cb5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/repo-layout.html-d9d2e28e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/settings-permissions.html-48e97cd8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/workflow.html-ad2377ab.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/as-tf-modules.html-61240b68.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/available-modules.html-d70352c1.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/example-tf.html-8aeb6dc5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/faq.html-f0565160.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/state-buckets.html-17fdf220.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/terraform-concepts.html-4db17fd8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-import.html-fc8d28f0.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-move.html-6edf4eea.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-upgrading.html-d67bc56f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alb.html-176a5a50.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alerts.html-9e939bb8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/api-gateway.html-9238f92f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-account-design.html-2d3ca860.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-service-scheduler.html-9011e691.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/certificates.html-d144c546.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/cloudfront.html-fd6bb464.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/ecs-fargate.html-a8913111.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/file-handling-on-lambda.html-1c3ee33a.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/iam.html-48f6a435.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/lambda.html-69182fb2.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/secrets.html-bb9a5e14.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/ses.html-2d4fa917.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tagging.html-ecebb0d2.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vapor.html-6a123b29.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vpc-ip-addr.html-73663f3e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/sso-approaches.html-c1612b69.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/design-for-cloud.html-4dd31c74.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/docs-site.html-fbf52cbf.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/index.html-ab2fbc54.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/roles-responsibilities.html-46dca0b3.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tools.html-728acd6e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/gha.html-a484cf99.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins-ecs-agent.html-6308916b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins.html-c47ab041.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/shared-libs.html-4a4e6744.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/app-patterns.html-bbcefef3.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/express-stack.html-3d8a3e7b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/frontend-stacks.html-243726ac.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/laravel-stack.html-d04031d3.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/libraries.html-0b7de83b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/principles.html-44766084.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/spring-stack.html-20617a24.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/policies.html-9e90d165.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/repo-layout.html-e758958b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/settings-permissions.html-888f7a64.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/workflow.html-ca4849ce.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/as-tf-modules.html-5159005a.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/available-modules.html-e4b9dfbc.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/example-tf.html-818a6c36.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/faq.html-907bdb12.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/state-buckets.html-7d84188d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/terraform-concepts.html-65a1b54f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-import.html-fdaa2fce.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-move.html-4ac4614b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-upgrading.html-4c9b2a1d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alb.html-0e23eeea.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alerts.html-9b7d2b16.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/api-gateway.html-17cf8d2f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-account-design.html-e06118b5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-service-scheduler.html-88a9a051.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/certificates.html-dd896368.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/cloudfront.html-2758f297.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/ecs-fargate.html-0d93b1cd.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/file-handling-on-lambda.html-8b0d776b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/iam.html-4df58de8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/lambda.html-ff44078e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/secrets.html-dfe3350a.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/ses.html-0f37c25f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tagging.html-5abfc1c2.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vapor.html-84163c0d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vpc-ip-addr.html-39e518c9.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/sso-approaches.html-3a252f20.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/404.html-339ea0b5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/SearchResult-bd8b1cdb.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/mermaid.esm.min-bc08675d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/mermaid-mindmap.esm.min-3c0b95d8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/AS-CloudDocs/" class=""><!----><span class="site-name">AS Cloud Docs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button class="search-pro-button" role="search" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Introduction <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/roles-responsibilities.html" class="sidebar-item" aria-label="Roles &amp; Responsibilities"><!--[--><!--]--> Roles &amp; Responsibilities <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/design-for-cloud.html" class="sidebar-item" aria-label="Designing Apps for the Cloud"><!--[--><!--]--> Designing Apps for the Cloud <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/tools.html" class="sidebar-item" aria-label="Tool Recommendations"><!--[--><!--]--> Tool Recommendations <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/docs-site.html" class="sidebar-item" aria-label="Documentation Site"><!--[--><!--]--> Documentation Site <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Infrastructure <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/infrastructure/aws-account-design.html" class="sidebar-item" aria-label="AWS Account Structure"><!--[--><!--]--> AWS Account Structure <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/tagging.html" class="sidebar-item" aria-label="Tagging Resources"><!--[--><!--]--> Tagging Resources <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/vpc-ip-addr.html" class="sidebar-item" aria-label="VPCs &amp; IP Addressing"><!--[--><!--]--> VPCs &amp; IP Addressing <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/alb.html" class="sidebar-item" aria-label="Application Load Balancers"><!--[--><!--]--> Application Load Balancers <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/certificates.html" class="sidebar-item" aria-label="Certificates"><!--[--><!--]--> Certificates <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/api-gateway.html" class="sidebar-item" aria-label="API Gateway"><!--[--><!--]--> API Gateway <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/lambda.html" class="sidebar-item" aria-label="Lambda"><!--[--><!--]--> Lambda <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/file-handling-on-lambda.html" class="sidebar-item" aria-label="File Handling on Lambda"><!--[--><!--]--> File Handling on Lambda <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/ecs-fargate.html" class="sidebar-item" aria-label="Fargate for ECS"><!--[--><!--]--> Fargate for ECS <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/ses.html" class="sidebar-item" aria-label="Simple Email Service (SES)"><!--[--><!--]--> Simple Email Service (SES) <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/iam.html" class="sidebar-item" aria-label="Identity &amp; Access Management (IAM)"><!--[--><!--]--> Identity &amp; Access Management (IAM) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Databases"><!--[--><!--]--> Databases <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#dynamodb" class="router-link-active router-link-exact-active sidebar-item" aria-label="DynamoDB"><!--[--><!--]--> DynamoDB <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#relational-database-service-rds" class="router-link-active router-link-exact-active sidebar-item" aria-label="Relational Database Service (RDS)"><!--[--><!--]--> Relational Database Service (RDS) <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#traditional-rds" class="router-link-active router-link-exact-active sidebar-item" aria-label="Traditional RDS"><!--[--><!--]--> Traditional RDS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#aurora-serverless" class="router-link-active router-link-exact-active sidebar-item" aria-label="Aurora Serverless"><!--[--><!--]--> Aurora Serverless <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#backups-and-security" class="router-link-active router-link-exact-active sidebar-item" aria-label="Backups and Security"><!--[--><!--]--> Backups and Security <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#traditional-vs-serverless" class="router-link-active router-link-exact-active sidebar-item" aria-label="Traditional vs. Serverless"><!--[--><!--]--> Traditional vs. Serverless <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#summary" class="router-link-active router-link-exact-active sidebar-item" aria-label="Summary"><!--[--><!--]--> Summary <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#aurora-serverless-maintenance-policy" class="router-link-active router-link-exact-active sidebar-item" aria-label="Aurora Serverless Maintenance Policy"><!--[--><!--]--> Aurora Serverless Maintenance Policy <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#monitoring-aurora-serverless-events-in-cloudwatch" class="router-link-active router-link-exact-active sidebar-item" aria-label="Monitoring Aurora Serverless events in CloudWatch"><!--[--><!--]--> Monitoring Aurora Serverless events in CloudWatch <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/databases.html#rds-event-subscription" class="router-link-active router-link-exact-active sidebar-item" aria-label="RDS Event Subscription"><!--[--><!--]--> RDS Event Subscription <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/AS-CloudDocs/infrastructure/secrets.html" class="sidebar-item" aria-label="Secret Management"><!--[--><!--]--> Secret Management <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/alerts.html" class="sidebar-item" aria-label="Alerts"><!--[--><!--]--> Alerts <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/cloudfront.html" class="sidebar-item" aria-label="CloudFront CDN"><!--[--><!--]--> CloudFront CDN <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/vapor.html" class="sidebar-item" aria-label="Laravel Vapor"><!--[--><!--]--> Laravel Vapor <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/aws-service-scheduler.html" class="sidebar-item" aria-label="AWS Service Scheduler"><!--[--><!--]--> AWS Service Scheduler <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Infrastructure as Code <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/iac/terraform-concepts.html" class="sidebar-item" aria-label="Terraform"><!--[--><!--]--> Terraform <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/as-tf-modules.html" class="sidebar-item" aria-label="AS Terraform Modules"><!--[--><!--]--> AS Terraform Modules <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/example-tf.html" class="sidebar-item" aria-label="Example Terraform Module"><!--[--><!--]--> Example Terraform Module <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/available-modules.html" class="sidebar-item" aria-label="Available Modules"><!--[--><!--]--> Available Modules <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/state-buckets.html" class="sidebar-item" aria-label="State Bucket Reference"><!--[--><!--]--> State Bucket Reference <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/tf-import.html" class="sidebar-item" aria-label="Terraform Import"><!--[--><!--]--> Terraform Import <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/tf-move.html" class="sidebar-item" aria-label="Terraform State Move"><!--[--><!--]--> Terraform State Move <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/tf-upgrading.html" class="sidebar-item" aria-label="Upgrading Terraform"><!--[--><!--]--> Upgrading Terraform <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/faq.html" class="sidebar-item" aria-label="Frequently Asked Questions"><!--[--><!--]--> Frequently Asked Questions <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">CI &amp; CD <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/ci-cd/jenkins.html" class="sidebar-item" aria-label="Jenkins Pipelines"><!--[--><!--]--> Jenkins Pipelines <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/ci-cd/shared-libs.html" class="sidebar-item" aria-label="Shared Library"><!--[--><!--]--> Shared Library <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/ci-cd/jenkins-ecs-agent.html" class="sidebar-item" aria-label="Jenkins ECS Agent"><!--[--><!--]--> Jenkins ECS Agent <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/ci-cd/gha.html" class="sidebar-item" aria-label="GitHub Actions"><!--[--><!--]--> GitHub Actions <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Application Development <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/development/principles.html" class="sidebar-item" aria-label="Design Principles"><!--[--><!--]--> Design Principles <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/app-patterns.html" class="sidebar-item" aria-label="Application Patterns"><!--[--><!--]--> Application Patterns <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/laravel-stack.html" class="sidebar-item" aria-label="Laravel Stack"><!--[--><!--]--> Laravel Stack <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/express-stack.html" class="sidebar-item" aria-label="ExpressJS Stack"><!--[--><!--]--> ExpressJS Stack <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/spring-stack.html" class="sidebar-item" aria-label="Spring Stack"><!--[--><!--]--> Spring Stack <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/frontend-stacks.html" class="sidebar-item" aria-label="Frontend Stacks"><!--[--><!--]--> Frontend Stacks <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/libraries.html" class="sidebar-item" aria-label="Packages &amp; Libraries"><!--[--><!--]--> Packages &amp; Libraries <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Security <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/security/sso-approaches.html" class="sidebar-item" aria-label="Single Sign-on"><!--[--><!--]--> Single Sign-on <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">GitHub <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/github/settings-permissions.html" class="sidebar-item" aria-label="Settings &amp; Permissions"><!--[--><!--]--> Settings &amp; Permissions <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/github/repo-layout.html" class="sidebar-item" aria-label="Repository Structure"><!--[--><!--]--> Repository Structure <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/github/workflow.html" class="sidebar-item" aria-label="Workflow"><!--[--><!--]--> Workflow <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/github/policies.html" class="sidebar-item" aria-label="Policy"><!--[--><!--]--> Policy <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="databases" tabindex="-1"><a class="header-anchor" href="#databases" aria-hidden="true">#</a> Databases</h1><p>AWS has <a href="https://aws.amazon.com/products/databases/" target="_blank" rel="noopener noreferrer">a number of options for databases<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, beyond even what this article will address. When choosing from the options below, or other AWS services not covered, there are three key things to consider:</p><ul><li>Being mindful of the limitations Amazon imposes, <em>especially</em> for their serverless products</li><li>Ensuring that you have an appropriate backup strategy in place</li><li>Cost</li></ul><h2 id="dynamodb" tabindex="-1"><a class="header-anchor" href="#dynamodb" aria-hidden="true">#</a> DynamoDB</h2><p><a href="https://aws.amazon.com/dynamodb/" target="_blank" rel="noopener noreferrer">DynamoDB<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> is a serverless NoSQL key-value &amp; document store. When used correctly, it can automatically scale to handle extreme amounts of both traffic and data. There is very little set-up required, and AWS will manage backups &amp; restorations for you.</p><p>You should not think of it as a cheap drop-in replacement for an RDBMS; it is fundementally different. DynamoDB is not a good fit if you need to do a rich faceted search or query relational data.</p><p>Dynamo tables have two billing modes: you can pay-per-request, or you can reserve read &amp; write capacity units and receive a consistent monthly bill. For all of our applications so far, the pay-per-request option has been adequate.</p><p>There are a number of restrictions that need to be factored in to your table design when building your application: Dynamo lets you have one primary key (composed of a partition key &amp; sort key), and a limited number of <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SecondaryIndexes.html" target="_blank" rel="noopener noreferrer">secondary indexes<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. You need to get these indexes right when you are creating the table initially; modifying these once you have data is a complicated process that significant engineering time will be spent on.</p><p><a href="https://www.trek10.com/blog/dynamodb-single-table-relational-modeling/" target="_blank" rel="noopener noreferrer">Forrest Brazeal wrote about converting a relational database to DynamoDB<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, which illustrates some of the limitations of DynamoDB.</p><blockquote><p>DynamoDB is a powerful tool when used properly, but if you don’t know what you’re doing it’s a deceptively user-friendly guide into madness.</p></blockquote><p>You should avoid doing <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Scan.html" target="_blank" rel="noopener noreferrer">table scans<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> with DynamoDB. While scan queries support filtering, the filter is applied <em>after</em> the table scan -- so you are paying the full cost of reading all records before any filtering is applied. Repeatedly doing a scan against a table with thousand of rows will be expensive.</p><p>To summerize, the AS recommendations for DynamoDB are:</p><ul><li>Only use this if you have a deep understanding of your data access patterns</li><li>Use pay-per-request until you have a demonstrated need to reserve capacity units</li><li>Enable point-in-time recovery</li></ul><h2 id="relational-database-service-rds" tabindex="-1"><a class="header-anchor" href="#relational-database-service-rds" aria-hidden="true">#</a> Relational Database Service (RDS)</h2><p>Amazon RDS has all your favorite flavours of RDBMS, plus Aurora with both MySQL &amp; Postgres compatability. RDS is an always-on service; even its serverless offering has a non-trivial cost.</p><p>As a general recommendation, you should select Aurora Postgres for your RDBMS. If you are working with an existing application or open-source/vendor product that requires MySQL, that is an acceptable option as well. MS SQL Server is available and may be chosen if an application requires it, but additional license costs are rolled in to the price.</p><p>Northwestern&#39;s Oracle license does not cover DBs running on AWS. While RDS offers Oracle, we do not use it under any circumstances.</p><p>Aurora is a proprietary Amazon-developed RDBMS backend, which then has Postgres/MySQL as the &quot;front end&quot;. To developers and applications, Aurora is indistinguishable from a normal database. Behind the scenes, <a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Aurora.Overview.html" target="_blank" rel="noopener noreferrer">data durability things<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> are happening.</p><h3 id="traditional-rds" tabindex="-1"><a class="header-anchor" href="#traditional-rds" aria-hidden="true">#</a> Traditional RDS</h3><p>The traditional (as opposed to serverless) RDS product allows you to choose your EC2 size. Amazon has a DB-optimized series of compute nodes, and you build your cluster from these plus storage. You have a high degree of flexibility and customization for your DB config. For example, AWS supports <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_PostgreSQL.html#PostgreSQL.Concepts.General.FeatureSupport.Extensions.11x" target="_blank" rel="noopener noreferrer">most popular Postgres extensions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> out of the box, and these can be added to your database.</p><p>With traditional RDS, developers will still be involved in DBA work: maintenance windows must be scheduled for reboots, config changes, certificate updates, and migration from unhealthy compute. These tasks are infrequent and easy to complete if the developer understands the problem, but they do take time away from <a href="/AS-CloudDocs/design-for-cloud.html#on-infrastructure" class="">more productive work</a>.</p><h3 id="aurora-serverless" tabindex="-1"><a class="header-anchor" href="#aurora-serverless" aria-hidden="true">#</a> Aurora Serverless</h3><p>Aurora Serverless uses Amazon&#39;s compute to power your Aurora RDBMS. It still behaves exactly like a normal Postgres/MySQL database.</p><p>For most of our use-cases, there are very few downsides to choosing Aurora RDS over traditional RDS:</p><ul><li>You cannot customize the DB config to the same degree as a traditional RDS database</li><li>Instead of choosing your EC2 instances, you allocate capacity units, which are more difficult to predict when budgeting/cost forecasting</li></ul><p>The upsides are compelling:</p><ul><li>No developer involvement in maintenance</li><li>No developer involvement in scaling (beyond setting a minimum/maximum)</li><li>DBs that are not being used can be configured to scale down to 0 capacity units</li></ul><p>There seems to be only one major downside:</p><ul><li>Serverless does not support backing up to, or restoring from, S3 buckets.</li></ul><h3 id="backups-and-security" tabindex="-1"><a class="header-anchor" href="#backups-and-security" aria-hidden="true">#</a> Backups and Security</h3><p>Aurora Serverless comes with more safety features out of the box than RDS, with 6 data copies spread across 3 availability zones (AZ) and automatic backups to an S3 bucket. If an AZ goes down, Aurora will automatically recreate the database instance in another zone. Snapshots sent to the S3 are stored in Parquet format. Data can be recovered from this S3 bucket through creating a new Aurora cluster. Aurora also has faster replication than RDS and more replicas, 15, compared to RDS&#39;s 5. Both Aurora and RDS have failover, but due to Aurora&#39;s read replicas no last minute data is lost with Aurora while RDS may incur some data loss.</p><p>By default, Aurora does not enable performance insights and monitoring. Default backup retentions (point-in-time recovery) for RDS instances under Aurora is 7 days (1 day backup retention is free).</p><p>RDS databases within an Aurora cluster can have Deletion Protection enabled, preventing the database from being deleted accidentally. To delete the database, the Aurora cluster itself must be modified and Deletion Prevention turned off.</p><h3 id="traditional-vs-serverless" tabindex="-1"><a class="header-anchor" href="#traditional-vs-serverless" aria-hidden="true">#</a> Traditional vs. Serverless</h3><p>Amazon recommends the <code>db.m5.large</code> instance type for a dev/QA RDS. Ignoring storage, this is ~$83/m for compute. You would ideally want two compute instances in QA/prod to avoid as much downtime as possible in your application, bringing the total for dev/qa/prod up to ~$420/month.</p><p>You can use smaller compute notes for RDS, like a <code>db.t3.medium</code>. If you were to use these for dev/QA and keep the <code>db.m5.large</code> for production, your compute costs would be around $278.44/m.</p><p>The minimum capacity units for a postgres RDS Aurora Serverless DB is two, which will cost ~$87/month if run non-stop. You should be able to configure your dev/QA environments to stop when idle, costing nothing outside of business hours. With production being the only always-on environment, the total for dev/qa/prod should be $174/month.</p><p>Both traditional and serverless RDS have an HTTP endpoint that can be enabled to allow web services to interface with your database/cluster. This can be used to run SQL statements without managing connections as well as integrate with other AWS services (e.g. Lambda) without needing to configure the service within the same Virtual Private Cloud (VPC) as your database/cluster.</p><h3 id="summary" tabindex="-1"><a class="header-anchor" href="#summary" aria-hidden="true">#</a> Summary</h3><p>To summarize, the AS recommendations for RDS are:</p><ul><li>Use this anywhere you&#39;d use a relational DB</li><li>RDS Aurora Serverless should be used unless you need additional control over your DB</li><li>Configure your Aurora Serverless RDS clusters to sleep when they are inactive &amp; verify that is happening</li><li>Enable automated backups &amp; set an appropriate retention period</li></ul><h3 id="aurora-serverless-maintenance-policy" tabindex="-1"><a class="header-anchor" href="#aurora-serverless-maintenance-policy" aria-hidden="true">#</a> Aurora Serverless Maintenance Policy</h3><p>When spinning up an Aurora serverless RDS cluster, be aware of the following limitations. Below is currently only for Postgresql.</p><ul><li>Minor Upgrades: Minor upgrades will be performed automatically during the specified maintenance window. Minor Postgresql version updates will cause a 20-30 second downtime during the maintenance window. Database engine upgrades should have no downtime.</li><li>Major upgrades: <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.PostgreSQL.html" target="_blank" rel="noopener noreferrer">AWS provides documentation on major upgrades<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Briefly, ensure that the DB instance you&#39;re using is compatible with the version of Postgresql you&#39;re upgrading to. Make sure you have committed or rolled back any transactions before upgrading. Remove all reg* data types. Back up the database. (create a snapshot of before and after upgrading). Ensure any extensions and data types used in the database are supported by the upgraded version.</li><li>Terraform tags: <ul><li><code>allow_major_version_upgrade</code> is set to false by default. Enabling this allows major engine upgrades when changing engine versions.</li><li><code>apply_immediately</code> is set to false by default. If false, any modifications to the cluster are made during the next maintenance window.</li><li><code>engine_version</code> does not need to be explicitly set. Defaults to most recent Aurora PostgreSQL engine version, which is the only choice for serverless RDS. Stored in tfstate file, so if a major upgraded is needed, this will need to be manually set with <code>allow_major_version_upgrade</code> set to true for the next deployment.</li><li><code>preferred_backup_window</code> will default to a random 30-minute window selected at random from an 8 hour block of time per region</li><li><code>preferred_maintenance_window</code> seems to follow the same rules as above, a random 30-minute interval if left unspecified</li></ul></li></ul><h3 id="monitoring-aurora-serverless-events-in-cloudwatch" tabindex="-1"><a class="header-anchor" href="#monitoring-aurora-serverless-events-in-cloudwatch" aria-hidden="true">#</a> Monitoring Aurora Serverless events in CloudWatch</h3><p>To enable log monitoring with cloudwatch, an RDS cluster parameter group will need to be created and assigned to your cluster, this can be done with terraform. The following log types can be published: audit, error, general, and slow query logs.</p><p>For example, for PostgreSQL:</p><div class="language-hcl line-numbers-mode" data-ext="hcl"><pre class="language-hcl"><code><span class="token keyword">resource <span class="token type variable">&quot;aws_rds_cluster_parameter_group&quot;</span></span> <span class="token string">&quot;my_group&quot;</span> <span class="token punctuation">{</span>
    <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;rds-cluster-pg&quot;</span>
    <span class="token property">family</span> <span class="token punctuation">=</span> <span class="token string">&quot;aurora-postgresql10&quot;</span>

    <span class="token keyword">parameter</span> <span class="token punctuation">{</span>
        <span class="token comment"># note, the AWS docs use &quot;log_statements&quot; but the parameter in the console reads &quot;log_statement&quot; so both might work or the docs may have a typo</span>
        <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;log_statement&quot;</span> 
        <span class="token property">value</span> <span class="token punctuation">=</span> <span class="token string">&quot;all&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, just set the <code>db_cluster_parameter_group_name</code> argument within your RDS cluster.</p><p>If you have already created a cluster without a custom parameter group, it will be assigned to a default parameter group where no logs are sent to CloudWatch. Switching from a default parameter group to a custom parameter group will apply the changes to to each new DB isntance that&#39;s added to the serverless cluster. This is a &quot;seamless scale&quot; so there should be no downtime, but there may be dropped connections if no scaling point can be found during the scaling period. Likewise, if you need to make modifications to specific parameters within a custom parameter group, changes to dynamic parameters will be applied immediately whereas changes to static parameters will be applied during the next maintenance window unless <code>apply_immediately</code> is set to true. If applied immediately, there will be downtime as the static parameter changes are applied.</p><h3 id="rds-event-subscription" tabindex="-1"><a class="header-anchor" href="#rds-event-subscription" aria-hidden="true">#</a> RDS Event Subscription</h3><p>In addition to CloudWatch, RDS event subscriptions can be configured to send alerts to OpsGenie via SNS (or any other service desired). <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_Events.Messages.html" target="_blank" rel="noopener noreferrer">A list of events that can be subscribed to can be found here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="hint-container warning"><p class="hint-container-title">Note</p><p>One note about OpsGenie Alerts: RDS Clusters will NOT trigger RDS integrations, only RDS instances will. Instead, use regular SNS integrations for serverless clusters. As of 7/7/21 OpsGenie does not have this information in their documentation.</p></div><p>An example:</p><div class="language-hcl line-numbers-mode" data-ext="hcl"><pre class="language-hcl"><code><span class="token keyword">resource <span class="token type variable">&quot;aws_db_event_subscription&quot;</span></span> <span class="token string">&quot;SUBSCRIPTION_NAME&quot;</span> <span class="token punctuation">{</span>
<span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;rds-event-subscription&quot;</span>
<span class="token property">sns_topic</span> <span class="token punctuation">=</span> OPS_GENIE_ARN

<span class="token comment"># could also use db-parameter-group, db-security group, db-instance, db-snapshot, db-cluster-snapshot or leave blank to subscribe to all sources</span>
<span class="token property">source_type</span> <span class="token punctuation">=</span> <span class="token string">&quot;db-cluster&quot;</span>        
<span class="token property">source_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_rds_cluster.CLUSTER_NAME.id<span class="token punctuation">]</span> 

<span class="token comment"># these are all event categories for a cluster source type </span>
<span class="token property">event_categories</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;configuration change&quot;</span>,   <span class="token comment"># probably not necessary</span>
    <span class="token string">&quot;creation&quot;</span>,               <span class="token comment"># probably not necessary</span>
    <span class="token string">&quot;deletion&quot;</span>,               <span class="token comment"># business hours alert</span>
    <span class="token string">&quot;failover&quot;</span>,               <span class="token comment"># business hours alert</span>
    <span class="token string">&quot;failure&quot;</span>,                <span class="token comment"># 24/7 alert</span>
    <span class="token string">&quot;global-failover&quot;</span>,        <span class="token comment"># business hours alert</span>
    <span class="token string">&quot;maintenance&quot;</span>,            <span class="token comment"># business hours alert</span>
    <span class="token string">&quot;notification&quot;</span>            <span class="token comment"># business hours alert</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs/edit/stable/infrastructure/databases.md" rel="noopener noreferrer" target="_blank" aria-label="Edit Page"><!--[--><!--]--> Edit Page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: nick.evans@northwestern.edu">Nick Evans</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/AS-CloudDocs/infrastructure/iam.html" class="" aria-label="Identity &amp; Access Management (IAM)"><!--[--><!--]--> Identity &amp; Access Management (IAM) <!--[--><!--]--></a></span><span class="next"><a href="/AS-CloudDocs/infrastructure/secrets.html" class="" aria-label="Secret Management"><!--[--><!--]--> Secret Management <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/AS-CloudDocs/assets/app-52f03298.js" defer></script>
  </body>
</html>
