<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Simple Email Service (SES) | AS Cloud Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link href="https://common.northwestern.edu/v8/icons/favicon-16.png" rel="icon" sizes="16x16" type="image/png">
    <link href="https://common.northwestern.edu/v8/icons/favicon-32.png" rel="icon" sizes="32x32" type="image/png">
    <meta name="description" content="Docs for Northwestern IT staff on our cloud implementation.">
    
    <link rel="preload" href="/AS-CloudDocs/assets/css/0.styles.425dfd68.css" as="style"><link rel="preload" href="/AS-CloudDocs/assets/js/app.7313f229.js" as="script"><link rel="preload" href="/AS-CloudDocs/assets/js/2.1981cd55.js" as="script"><link rel="preload" href="/AS-CloudDocs/assets/js/46.ca5e23a2.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/js/10.b7cfc97a.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/11.7378bf22.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/12.047b92b2.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/13.70e76045.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/14.ba329726.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/15.b322c67e.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/16.126778f7.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/17.c06069d2.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/18.2ab4170e.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/19.0b8d4cfd.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/20.737bf283.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/21.cb65b659.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/22.8cbb4304.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/23.3e867935.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/24.d5b9e77d.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/25.62d311e1.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/26.b440abaf.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/27.c08e6665.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/28.9289f829.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/29.16e81cef.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/3.3e038af8.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/30.9c748ad1.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/31.19536c2e.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/32.c9f88a51.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/33.a8e7cf7d.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/34.dd0f5218.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/35.1fe2101b.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/36.cbafddcb.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/37.d85a776b.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/38.143ac759.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/39.a4477bbe.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/4.fd8a9d0a.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/40.9d3b864b.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/41.63da38ab.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/42.fcf0be8c.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/43.35a2833a.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/44.bc138650.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/45.f9131314.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/47.81742c32.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/48.e97407c7.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/49.8b3aa094.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/5.f8165a6e.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/50.64c608db.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/51.370f3c89.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/52.28450ca3.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/6.fca2af09.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/7.2bff0867.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/8.8d33b76a.js"><link rel="prefetch" href="/AS-CloudDocs/assets/js/9.e11d18ec.js">
    <link rel="stylesheet" href="/AS-CloudDocs/assets/css/0.styles.425dfd68.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AS-CloudDocs/" class="home-link router-link-active"><!----> <span class="site-name">AS Cloud Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AS-CloudDocs/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/AS-CloudDocs/roles-responsibilities.html" class="sidebar-link">Roles &amp; Responsibilities</a></li><li><a href="/AS-CloudDocs/design-for-cloud.html" class="sidebar-link">Designing Apps for the Cloud</a></li><li><a href="/AS-CloudDocs/tools.html" class="sidebar-link">Tool Recommendations</a></li><li><a href="/AS-CloudDocs/docs-site.html" class="sidebar-link">Documentation Site</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Infrastructure</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AS-CloudDocs/infrastructure/aws-account-design.html" class="sidebar-link">AWS Account Structure</a></li><li><a href="/AS-CloudDocs/infrastructure/tagging.html" class="sidebar-link">Tagging Resources</a></li><li><a href="/AS-CloudDocs/infrastructure/vpc-ip-addr.html" class="sidebar-link">VPCs &amp; IP Addressing</a></li><li><a href="/AS-CloudDocs/infrastructure/alb.html" class="sidebar-link">Application Load Balancers</a></li><li><a href="/AS-CloudDocs/infrastructure/certificates.html" class="sidebar-link">Certificates</a></li><li><a href="/AS-CloudDocs/infrastructure/api-gateway.html" class="sidebar-link">API Gateway</a></li><li><a href="/AS-CloudDocs/infrastructure/lambda.html" class="sidebar-link">Lambda</a></li><li><a href="/AS-CloudDocs/infrastructure/ecs-fargate.html" class="sidebar-link">Fargate for ECS</a></li><li><a href="/AS-CloudDocs/infrastructure/ses.html" aria-current="page" class="active sidebar-link">Simple Email Service (SES)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AS-CloudDocs/infrastructure/ses.html#usage" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/AS-CloudDocs/infrastructure/ses.html#account-status" class="sidebar-link">Account Status</a></li><li class="sidebar-sub-header"><a href="/AS-CloudDocs/infrastructure/ses.html#domain-setup" class="sidebar-link">Domain Setup</a></li></ul></li><li><a href="/AS-CloudDocs/infrastructure/iam.html" class="sidebar-link">Identity &amp; Access Management (IAM)</a></li><li><a href="/AS-CloudDocs/infrastructure/databases.html" class="sidebar-link">Databases</a></li><li><a href="/AS-CloudDocs/infrastructure/secrets.html" class="sidebar-link">Secret Management</a></li><li><a href="/AS-CloudDocs/infrastructure/alerts.html" class="sidebar-link">Alerts</a></li><li><a href="/AS-CloudDocs/infrastructure/cloudfront.html" class="sidebar-link">CloudFront CDN</a></li><li><a href="/AS-CloudDocs/infrastructure/vapor.html" class="sidebar-link">Laravel Vapor</a></li><li><a href="/AS-CloudDocs/infrastructure/aws-service-scheduler.html" class="sidebar-link">AWS Service Scheduler</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Infrastructure as Code</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AS-CloudDocs/iac/terraform-concepts.html" class="sidebar-link">Terraform</a></li><li><a href="/AS-CloudDocs/iac/as-tf-modules.html" class="sidebar-link">AS Terraform Modules</a></li><li><a href="/AS-CloudDocs/iac/example-tf.html" class="sidebar-link">Example Terraform Module</a></li><li><a href="/AS-CloudDocs/iac/available-modules.html" class="sidebar-link">Available Modules</a></li><li><a href="/AS-CloudDocs/iac/state-buckets.html" class="sidebar-link">State Bucket Reference</a></li><li><a href="/AS-CloudDocs/iac/tf-import.html" class="sidebar-link">Terraform Import</a></li><li><a href="/AS-CloudDocs/iac/tf-move.html" class="sidebar-link">Terraform State Move</a></li><li><a href="/AS-CloudDocs/iac/tf-upgrading.html" class="sidebar-link">Upgrading Terraform</a></li><li><a href="/AS-CloudDocs/iac/faq.html" class="sidebar-link">Frequently Asked Questions</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CI &amp; CD</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AS-CloudDocs/ci-cd/jenkins.html" class="sidebar-link">Jenkins Pipelines</a></li><li><a href="/AS-CloudDocs/ci-cd/shared-libs.html" class="sidebar-link">Shared Library</a></li><li><a href="/AS-CloudDocs/ci-cd/jenkins-ecs-agent.html" class="sidebar-link">Jenkins ECS Agent</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Application Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AS-CloudDocs/development/principles.html" class="sidebar-link">Design Principles</a></li><li><a href="/AS-CloudDocs/development/app-patterns.html" class="sidebar-link">Application Patterns</a></li><li><a href="/AS-CloudDocs/development/laravel-stack.html" class="sidebar-link">Laravel Stack</a></li><li><a href="/AS-CloudDocs/development/express-stack.html" class="sidebar-link">ExpressJS Stack</a></li><li><a href="/AS-CloudDocs/development/spring-stack.html" class="sidebar-link">Spring Stack</a></li><li><a href="/AS-CloudDocs/development/frontend-stacks.html" class="sidebar-link">Frontend Stacks</a></li><li><a href="/AS-CloudDocs/development/libraries.html" class="sidebar-link">Packages &amp; Libraries</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Security</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AS-CloudDocs/security/sso-approaches.html" class="sidebar-link">Single Sign-on</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>GitHub</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AS-CloudDocs/github/settings-permissions.html" class="sidebar-link">Settings &amp; Permissions</a></li><li><a href="/AS-CloudDocs/github/repo-layout.html" class="sidebar-link">Repository Structure</a></li><li><a href="/AS-CloudDocs/github/workflow.html" class="sidebar-link">Workflow</a></li><li><a href="/AS-CloudDocs/github/policies.html" class="sidebar-link">Policy</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="simple-email-service-ses"><a href="#simple-email-service-ses" class="header-anchor">#</a> Simple Email Service (SES)</h1> <p>Amazon Simple Email Service (SES) is the most straightforward way to send email from AWS to faculty, staff, students, and the general public. Whenever possible, you should use SES via the AWS SDK or an API. If that is not possible, SES has an SMTP gateway, but to date AS has no experience with that.</p> <p>SES sends email, but is not a mailing list or marketing platform -- it does not have any tools for creating responsive purple emails. You will still want to use tools like Laravel's mail templates or <a href="https://mjml.io/" target="_blank" rel="noopener noreferrer">MJML for JS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to create your content. It is <strong>not</strong> recommended that you try to make HTML emails by hand; the rendering differences across Outlook/GMail/iOS Mail are <em>extensive</em>.</p> <p>The service reports basic <em>technical</em> statistics: successful deliveries, bounces, and a few others. SES does not provide open rates or any meaningful analytics. If you want that data, you should consider a 3rd-party service like MailChimp (bulk mail) or MailGun (transactional mail) -- <em>neither of which we currently have a contract with</em>!</p> <p>The most important thing to know when using SES is that it is available in a limited set of regions. Our SES setup &amp; sending is all done in <code>us-east-1</code>. If you see errors about an SES domain not resolving, make sure you're not trying to use the <code>us-east-2</code> SES API endpoint.</p> <h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <p>Using SES from another AWS service, like Lambda, is easy: you add a policy to the execution role that permits it to send from the <code>northwestern.edu</code> domain. The ARN for the verified SES domain resource is published in the account shared resources IaC module, and you will need to access the ARN to write the IAM policy correctly.</p> <p>Here is an example policy that allows sending mail:</p> <div class="language-hcl extra-class"><pre class="language-hcl"><code><span class="token keyword">data <span class="token type variable">&quot;terraform_remote_state&quot;</span></span> <span class="token string">&quot;shared_resources&quot;</span> <span class="token punctuation">{</span>
  <span class="token property">backend</span> <span class="token punctuation">=</span> <span class="token string">&quot;s3&quot;</span>

  <span class="token property">config</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">bucket</span> <span class="token punctuation">=</span> var.account_resources_state_bucket
    <span class="token property">key</span>    <span class="token punctuation">=</span> var.account_resources_state_file
    <span class="token property">region</span> <span class="token punctuation">=</span> var.account_resources_state_region
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">data <span class="token type variable">&quot;aws_iam_policy_document&quot;</span></span> <span class="token string">&quot;lambda_access_policy&quot;</span> <span class="token punctuation">{</span>
  <span class="token keyword">statement</span> <span class="token punctuation">{</span>
    <span class="token property">effect</span>    <span class="token punctuation">=</span> <span class="token string">&quot;Allow&quot;</span>
    <span class="token property">actions</span>   <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;ses:SendEmail&quot;</span>, <span class="token string">&quot;ses:SendRawEmail&quot;</span><span class="token punctuation">]</span>
    <span class="token property">resources</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>data.terraform_remote_state.shared_resources.outputs.ses_northwestern_domain_arn<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can get more fine-grained than this. If you are issuing an access key so a 3rd party service can send emails through our AWS account, consider restricting what <code>ses:FromAddress</code> that can be used in the IAM policy. The <a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/sending-authorization-policies.html#sending-authorization-policy-elements" target="_blank" rel="noopener noreferrer">SES policy documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> lists all of the fields avaialble.</p> <p>You should always grant the minimum access possible. In the case of SES, this principle is especially important: the sender reputation for <code>northwestern.edu</code> is at stake.</p> <h2 id="account-status"><a href="#account-status" class="header-anchor">#</a> Account Status</h2> <p>The SES service needs to be set up for the <code>northwestern.edu</code> domain and removed from the <a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/request-production-access.html" target="_blank" rel="noopener noreferrer">SES email sandbox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> before you can send mail. This is work that only needs to be done once per account.</p> <p>Here is the current disposition. Accounts that are still in the email sandbox may only send mail to a small number of email addressed that have opted in.</p> <table><thead><tr><th>Account</th> <th>Domain Setup</th> <th>In Email Sandbox</th></tr></thead> <tbody><tr><td>DMA Sandbox</td> <td>No</td> <td>Yes</td></tr> <tr><td>DMA Nonprod</td> <td>No</td> <td>Yes</td></tr> <tr><td>DMA Production</td> <td>Yes</td> <td>No</td></tr> <tr><td>ADO Sandbox</td> <td>Not verified</td> <td>Yes</td></tr> <tr><td>ADO Nonprod</td> <td>Yes</td> <td>No</td></tr> <tr><td>ADO Production</td> <td>Yes</td> <td>No</td></tr></tbody></table> <p>If you need an account set up for SES, contact the EACD-CloudOps team. The setup may take a few days; requests to leave the SES email sandbox are manually reviewed &amp; approved by AWS customer support.</p> <p>Our sandbox accounts will not be removed from the SES email sandbox. You can set up verified recipients to send mail to, if that is an important aspect of your proof-of-concept.</p> <h2 id="domain-setup"><a href="#domain-setup" class="header-anchor">#</a> Domain Setup</h2> <p>You may wish to send emails from a domain other than <code>northwestern.edu</code>. For example, a project involving a microsite for a student group may have its own domain name.</p> <p>If you want to send from a different domain, contact the EACD-CloudOps team to have it set up. You will need to provide a contact that can manage DNS for the domain to EACD-CloudOps.</p> <p>There are two parts to the domain setup: verification, and setting up SPF/DKIM records (to avoid emails being flagged as spam).</p> <p>The SES domain should be terraformed in the account's shared resources module. The ARN for the new domain should be published as an output, so other developers can reference it in their IaC modules. The verification DNS record and DKIM DNS records will be available in the AWS console once created.</p> <p>Our preferred method for verification is one of SES' alternative approaches: create a TXT record for the domain prefixed with <code>amazonses</code>. This approach allows for multiple AWS accounts (prod &amp; nonprod) to send mail for a single domain. For example, <code>northwestern.edu</code> is set up like this:</p> <div class="language- extra-class"><pre class="language-text"><code>$ dig +short -t txt northwestern.edu | grep amazonses
&quot;amazonses:PD1svM8Ux6TaXc7Gzh7bEKYK8ki2nt1gzZx0bKpaJPg=&quot;
&quot;amazonses:0G1rTZw4h/ZJ8pnm67+KKxSL41IP0Ok7GZUZ7IF/kZc=&quot;
&quot;amazonses:eKCoAQOpP+sWBz54nKIZTfjnWJSS7Nrflp9ziIraP1M=&quot;
&quot;amazonses:7r2Zk09xSsTpfnWKtxmYJqXsJOGSGsquQGrckxhTLUI=&quot;
&quot;amazonses:8oZtwYE9ip7ShHqAmkO/bCOQbr1zqwQ9D3DcOdg6eMg=&quot;
</code></pre></div><p>The <a href="https://en.wikipedia.org/wiki/DomainKeys_Identified_Mail" target="_blank" rel="noopener noreferrer">DKIM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> instructions in the console should be followed, as the way DKIM works supports our prod/nonprod AWS account setup out of the box.</p> <p>To set up <a href="https://en.wikipedia.org/wiki/Sender_Policy_Framework" target="_blank" rel="noopener noreferrer">SPF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, adjust the domain's SPF record <a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-authentication-spf.html#send-email-authentication-spf-records" target="_blank" rel="noopener noreferrer">according to Amazon's documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> by adding an <code>include:amazonses.com</code> policy.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs/edit/stable/infrastructure/ses.md" target="_blank" rel="noopener noreferrer">Edit Page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/17/2022, 4:17:46 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/AS-CloudDocs/infrastructure/ecs-fargate.html" class="prev">
        Fargate for ECS
      </a></span> <span class="next"><a href="/AS-CloudDocs/infrastructure/iam.html">
        Identity &amp; Access Management (IAM)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/AS-CloudDocs/assets/js/app.7313f229.js" defer></script><script src="/AS-CloudDocs/assets/js/2.1981cd55.js" defer></script><script src="/AS-CloudDocs/assets/js/46.ca5e23a2.js" defer></script>
  </body>
</html>
