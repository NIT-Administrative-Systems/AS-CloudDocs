<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link href="https://common.northwestern.edu/v8/icons/favicon-16.png" rel="icon" sizes="16x16" type="image/png"><link href="https://common.northwestern.edu/v8/icons/favicon-32.png" rel="icon" sizes="32x32" type="image/png"><title>Fargate for ECS | AS Cloud Docs</title><meta name="description" content="Docs for Northwestern IT staff on our cloud implementation.">
    <link rel="preload" href="/AS-CloudDocs/assets/style-8d9bb470.css" as="style"><link rel="stylesheet" href="/AS-CloudDocs/assets/style-8d9bb470.css">
    <link rel="modulepreload" href="/AS-CloudDocs/assets/app-52f03298.js"><link rel="modulepreload" href="/AS-CloudDocs/assets/framework-bf3e1922.js"><link rel="modulepreload" href="/AS-CloudDocs/assets/ecs-fargate.html-0d93b1cd.js"><link rel="modulepreload" href="/AS-CloudDocs/assets/ecs-fargate.html-a8913111.js"><link rel="prefetch" href="/AS-CloudDocs/assets/design-for-cloud.html-3c7deff4.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/docs-site.html-9945fc6c.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/index.html-1bb3b299.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/roles-responsibilities.html-5d210f4f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tools.html-d70f2781.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/gha.html-d4bdbbb0.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins-ecs-agent.html-2b6c8d44.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins.html-c8eea5a6.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/shared-libs.html-5e21c5b0.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/app-patterns.html-98ea7b82.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/express-stack.html-16586735.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/frontend-stacks.html-e35f9d6e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/laravel-stack.html-c197109e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/libraries.html-de547c10.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/principles.html-7e4d142e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/spring-stack.html-a15223c6.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/policies.html-2f707cb5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/repo-layout.html-d9d2e28e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/settings-permissions.html-48e97cd8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/workflow.html-ad2377ab.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/as-tf-modules.html-61240b68.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/available-modules.html-d70352c1.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/example-tf.html-8aeb6dc5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/faq.html-f0565160.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/state-buckets.html-17fdf220.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/terraform-concepts.html-4db17fd8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-import.html-fc8d28f0.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-move.html-6edf4eea.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-upgrading.html-d67bc56f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alb.html-176a5a50.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alerts.html-9e939bb8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/api-gateway.html-9238f92f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-account-design.html-2d3ca860.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-service-scheduler.html-9011e691.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/certificates.html-d144c546.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/cloudfront.html-fd6bb464.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/databases.html-ab5e5dd7.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/file-handling-on-lambda.html-1c3ee33a.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/iam.html-48f6a435.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/lambda.html-69182fb2.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/secrets.html-bb9a5e14.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/ses.html-2d4fa917.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tagging.html-ecebb0d2.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vapor.html-6a123b29.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vpc-ip-addr.html-73663f3e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/sso-approaches.html-c1612b69.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/design-for-cloud.html-4dd31c74.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/docs-site.html-fbf52cbf.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/index.html-ab2fbc54.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/roles-responsibilities.html-46dca0b3.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tools.html-728acd6e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/gha.html-a484cf99.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins-ecs-agent.html-6308916b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/jenkins.html-c47ab041.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/shared-libs.html-4a4e6744.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/app-patterns.html-bbcefef3.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/express-stack.html-3d8a3e7b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/frontend-stacks.html-243726ac.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/laravel-stack.html-d04031d3.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/libraries.html-0b7de83b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/principles.html-44766084.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/spring-stack.html-20617a24.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/policies.html-9e90d165.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/repo-layout.html-e758958b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/settings-permissions.html-888f7a64.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/workflow.html-ca4849ce.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/as-tf-modules.html-5159005a.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/available-modules.html-e4b9dfbc.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/example-tf.html-818a6c36.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/faq.html-907bdb12.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/state-buckets.html-7d84188d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/terraform-concepts.html-65a1b54f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-import.html-fdaa2fce.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-move.html-4ac4614b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tf-upgrading.html-4c9b2a1d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alb.html-0e23eeea.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/alerts.html-9b7d2b16.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/api-gateway.html-17cf8d2f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-account-design.html-e06118b5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/aws-service-scheduler.html-88a9a051.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/certificates.html-dd896368.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/cloudfront.html-2758f297.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/databases.html-ac58d857.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/file-handling-on-lambda.html-8b0d776b.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/iam.html-4df58de8.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/lambda.html-ff44078e.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/secrets.html-dfe3350a.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/ses.html-0f37c25f.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/tagging.html-5abfc1c2.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vapor.html-84163c0d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/vpc-ip-addr.html-39e518c9.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/sso-approaches.html-3a252f20.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/404.html-339ea0b5.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/SearchResult-bd8b1cdb.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/mermaid.esm.min-bc08675d.js" as="script"><link rel="prefetch" href="/AS-CloudDocs/assets/mermaid-mindmap.esm.min-3c0b95d8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/AS-CloudDocs/" class=""><!----><span class="site-name">AS Cloud Docs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button class="search-pro-button" role="search" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Introduction <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/roles-responsibilities.html" class="sidebar-item" aria-label="Roles &amp; Responsibilities"><!--[--><!--]--> Roles &amp; Responsibilities <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/design-for-cloud.html" class="sidebar-item" aria-label="Designing Apps for the Cloud"><!--[--><!--]--> Designing Apps for the Cloud <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/tools.html" class="sidebar-item" aria-label="Tool Recommendations"><!--[--><!--]--> Tool Recommendations <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/docs-site.html" class="sidebar-item" aria-label="Documentation Site"><!--[--><!--]--> Documentation Site <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Infrastructure <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/infrastructure/aws-account-design.html" class="sidebar-item" aria-label="AWS Account Structure"><!--[--><!--]--> AWS Account Structure <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/tagging.html" class="sidebar-item" aria-label="Tagging Resources"><!--[--><!--]--> Tagging Resources <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/vpc-ip-addr.html" class="sidebar-item" aria-label="VPCs &amp; IP Addressing"><!--[--><!--]--> VPCs &amp; IP Addressing <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/alb.html" class="sidebar-item" aria-label="Application Load Balancers"><!--[--><!--]--> Application Load Balancers <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/certificates.html" class="sidebar-item" aria-label="Certificates"><!--[--><!--]--> Certificates <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/api-gateway.html" class="sidebar-item" aria-label="API Gateway"><!--[--><!--]--> API Gateway <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/lambda.html" class="sidebar-item" aria-label="Lambda"><!--[--><!--]--> Lambda <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/file-handling-on-lambda.html" class="sidebar-item" aria-label="File Handling on Lambda"><!--[--><!--]--> File Handling on Lambda <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Fargate for ECS"><!--[--><!--]--> Fargate for ECS <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#amazon-ecs" class="router-link-active router-link-exact-active sidebar-item" aria-label="Amazon ECS"><!--[--><!--]--> Amazon ECS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#key-terms" class="router-link-active router-link-exact-active sidebar-item" aria-label="Key Terms"><!--[--><!--]--> Key Terms <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#fargate-task-vs-fargate-service" class="router-link-active router-link-exact-active sidebar-item" aria-label="Fargate Task vs. Fargate Service"><!--[--><!--]--> Fargate Task vs. Fargate Service <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#fargate-task-vs-lambda" class="router-link-active router-link-exact-active sidebar-item" aria-label="Fargate Task vs. Lambda"><!--[--><!--]--> Fargate Task vs. Lambda <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#fargate-service-concepts" class="router-link-active router-link-exact-active sidebar-item" aria-label="Fargate Service Concepts"><!--[--><!--]--> Fargate Service Concepts <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#load-balancing" class="router-link-active router-link-exact-active sidebar-item" aria-label="Load Balancing"><!--[--><!--]--> Load Balancing <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#auto-scaling" class="router-link-active router-link-exact-active sidebar-item" aria-label="Auto Scaling"><!--[--><!--]--> Auto Scaling <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/AS-CloudDocs/infrastructure/ecs-fargate.html#using-scheduled-scaling-for-cost-savings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using Scheduled Scaling for Cost Savings"><!--[--><!--]--> Using Scheduled Scaling for Cost Savings <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/AS-CloudDocs/infrastructure/ses.html" class="sidebar-item" aria-label="Simple Email Service (SES)"><!--[--><!--]--> Simple Email Service (SES) <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/iam.html" class="sidebar-item" aria-label="Identity &amp; Access Management (IAM)"><!--[--><!--]--> Identity &amp; Access Management (IAM) <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/databases.html" class="sidebar-item" aria-label="Databases"><!--[--><!--]--> Databases <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/secrets.html" class="sidebar-item" aria-label="Secret Management"><!--[--><!--]--> Secret Management <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/alerts.html" class="sidebar-item" aria-label="Alerts"><!--[--><!--]--> Alerts <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/cloudfront.html" class="sidebar-item" aria-label="CloudFront CDN"><!--[--><!--]--> CloudFront CDN <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/vapor.html" class="sidebar-item" aria-label="Laravel Vapor"><!--[--><!--]--> Laravel Vapor <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/infrastructure/aws-service-scheduler.html" class="sidebar-item" aria-label="AWS Service Scheduler"><!--[--><!--]--> AWS Service Scheduler <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Infrastructure as Code <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/iac/terraform-concepts.html" class="sidebar-item" aria-label="Terraform"><!--[--><!--]--> Terraform <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/as-tf-modules.html" class="sidebar-item" aria-label="AS Terraform Modules"><!--[--><!--]--> AS Terraform Modules <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/example-tf.html" class="sidebar-item" aria-label="Example Terraform Module"><!--[--><!--]--> Example Terraform Module <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/available-modules.html" class="sidebar-item" aria-label="Available Modules"><!--[--><!--]--> Available Modules <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/state-buckets.html" class="sidebar-item" aria-label="State Bucket Reference"><!--[--><!--]--> State Bucket Reference <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/tf-import.html" class="sidebar-item" aria-label="Terraform Import"><!--[--><!--]--> Terraform Import <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/tf-move.html" class="sidebar-item" aria-label="Terraform State Move"><!--[--><!--]--> Terraform State Move <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/tf-upgrading.html" class="sidebar-item" aria-label="Upgrading Terraform"><!--[--><!--]--> Upgrading Terraform <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/iac/faq.html" class="sidebar-item" aria-label="Frequently Asked Questions"><!--[--><!--]--> Frequently Asked Questions <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">CI &amp; CD <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/ci-cd/jenkins.html" class="sidebar-item" aria-label="Jenkins Pipelines"><!--[--><!--]--> Jenkins Pipelines <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/ci-cd/shared-libs.html" class="sidebar-item" aria-label="Shared Library"><!--[--><!--]--> Shared Library <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/ci-cd/jenkins-ecs-agent.html" class="sidebar-item" aria-label="Jenkins ECS Agent"><!--[--><!--]--> Jenkins ECS Agent <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/ci-cd/gha.html" class="sidebar-item" aria-label="GitHub Actions"><!--[--><!--]--> GitHub Actions <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Application Development <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/development/principles.html" class="sidebar-item" aria-label="Design Principles"><!--[--><!--]--> Design Principles <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/app-patterns.html" class="sidebar-item" aria-label="Application Patterns"><!--[--><!--]--> Application Patterns <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/laravel-stack.html" class="sidebar-item" aria-label="Laravel Stack"><!--[--><!--]--> Laravel Stack <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/express-stack.html" class="sidebar-item" aria-label="ExpressJS Stack"><!--[--><!--]--> ExpressJS Stack <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/spring-stack.html" class="sidebar-item" aria-label="Spring Stack"><!--[--><!--]--> Spring Stack <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/frontend-stacks.html" class="sidebar-item" aria-label="Frontend Stacks"><!--[--><!--]--> Frontend Stacks <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/development/libraries.html" class="sidebar-item" aria-label="Packages &amp; Libraries"><!--[--><!--]--> Packages &amp; Libraries <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Security <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/security/sso-approaches.html" class="sidebar-item" aria-label="Single Sign-on"><!--[--><!--]--> Single Sign-on <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">GitHub <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/AS-CloudDocs/github/settings-permissions.html" class="sidebar-item" aria-label="Settings &amp; Permissions"><!--[--><!--]--> Settings &amp; Permissions <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/github/repo-layout.html" class="sidebar-item" aria-label="Repository Structure"><!--[--><!--]--> Repository Structure <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/github/workflow.html" class="sidebar-item" aria-label="Workflow"><!--[--><!--]--> Workflow <!--[--><!--]--></a><!----></li><li><a href="/AS-CloudDocs/github/policies.html" class="sidebar-item" aria-label="Policy"><!--[--><!--]--> Policy <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="fargate-for-ecs" tabindex="-1"><a class="header-anchor" href="#fargate-for-ecs" aria-hidden="true">#</a> Fargate for ECS</h1><p>AWS Fargate is a serverless solution for running containerized applications without managing servers.</p><p>Several IaC modules for common Fargate implementations are available. See the <a href="/AS-CloudDocs/iac/available-modules.html" class="">AS shared modules</a>.</p><h2 id="amazon-ecs" tabindex="-1"><a class="header-anchor" href="#amazon-ecs" aria-hidden="true">#</a> Amazon ECS</h2><p>Amazon ECS is a container management service (manages the lifecycle of your containers, e.g. placing tasks, starting/stopping containers). ECS runs the containers on a cluster of EC2 instances and gives you the choice between two models for running your containers:</p><table><thead><tr><th>ECS Launch Type</th><th>You</th><th>AWS</th></tr></thead><tbody><tr><td>EC2</td><td>You manage the EC2s for running the containers and you manage the containers.</td><td></td></tr><tr><td>Fargate</td><td>You manage the containers.</td><td>AWS manages the underlying EC2s for running the containers.</td></tr></tbody></table><p>Fargate is typically our preferred model, as it involves less configuration and management, and makes it easy to scale. It is sometimes more cost effective (particularly for variable traffic, small test environments, or smaller workloads) but you should always compare estimated costs for different services for your particular use case in order to select the best option.</p><h2 id="key-terms" tabindex="-1"><a class="header-anchor" href="#key-terms" aria-hidden="true">#</a> Key Terms</h2><p>| Term | Definition | | --------------- | -----------| ----------- | | Task Definition | The &quot;blueprint&quot;: a template specifying the Docker images to use, cpu, memory, environment variables, ports, secrets, etc. | | Task | An application instance. Often there is one container per task, though we could also run multiple containers per task in order to run a sidecar for the application e.g. running a main container for the application traffic and another for detailed monitoring or metrics. | | Service | A service runs some number of copies of the task definition, providing horizontal scalability. If a task is unhealthy, the service will kill it and start a new task to guarantee the specified number of tasks are always running. |</p><h2 id="fargate-task-vs-fargate-service" tabindex="-1"><a class="header-anchor" href="#fargate-task-vs-fargate-service" aria-hidden="true">#</a> Fargate Task vs. Fargate Service</h2><ul><li>A job that is invoked, does some work, and completes/exits (e.g. a daily ETL) should be run as a task.</li><li>Continuously running processes (e.g. a web server) should be run as a service.</li></ul><h2 id="fargate-task-vs-lambda" tabindex="-1"><a class="header-anchor" href="#fargate-task-vs-lambda" aria-hidden="true">#</a> Fargate Task vs. Lambda</h2><ul><li>A job that is invoked, does some work, and completes/exits is also a good candidate for running as a Lambda function. Both are serverless solutions where you pay for only the compute used. However, the pricing models are different and you should compare the estimated charges to determine the best option for your specific use case.</li><li>A Lambda function is less overhead to get started, as you can run your code without containers.</li><li>However, Lambda has strict limits on timeout, cpu, and RAM, which Fargate does not. A Fargate Task is better suited to long-running workloads or those needing more compute, which exceed the Lambda timeout/limits.</li></ul><h2 id="fargate-service-concepts" tabindex="-1"><a class="header-anchor" href="#fargate-service-concepts" aria-hidden="true">#</a> Fargate Service Concepts</h2><h3 id="load-balancing" tabindex="-1"><a class="header-anchor" href="#load-balancing" aria-hidden="true">#</a> Load Balancing</h3><p>A dedicated load balancer enables you to attach a domain to your Fargate Service (you could attach a public IP to the service but it would change every time you redeployed the service) and distributes traffic across the tasks in your containers.</p><p>The load balancer also performs health checks on the tasks in your service; it sends periodic requests and verifies that the expected response is returned. It communicates with the ECS service scheduler to restart unhealthy tasks in order to maintain the desired number of healthy tasks in your service. When a task is unhealthy, ECS removes the task from the load balancer, waits for a deregistration delay (time for the load balancer to drain active connections), and starts a new task which it registers with the load balancer.</p><h3 id="auto-scaling" tabindex="-1"><a class="header-anchor" href="#auto-scaling" aria-hidden="true">#</a> Auto Scaling</h3><p>Reduce costs and meet demand by scaling the number of tasks running your application up/down in response to demand.</p><p>Multiple policies can be combined - when multiple policies trigger a scale out or scale in simultaneously Auto Scaling will take instruction from the one that yields the largest number of tasks running. It is not recommended to mix target tracking and step scaling policies.</p><p>There are three approaches to Auto Scaling a Fargate service:</p><h4 id="target-tracking" tabindex="-1"><a class="header-anchor" href="#target-tracking" aria-hidden="true">#</a> Target Tracking</h4><p>This approach increases/decreases the number of tasks running (between a max and min you specify) in order to keep metrics like cpu and memory utilization at a specified level. This is the &quot;out of the box&quot; approach and is typically sufficient. Target tracking is a good option when your target metrics like cpu and memory utilization fluctuate predictably for a given load and proportionally to the number of instances running your application.</p><ul><li>You specify a single target value for your metric, e.g. maintain 75% average CPU utilization across all tasks. AWS does the rest, like creating/managing the CloudWatch alarms to monitor the metric and scaling in/out.</li><li>There are several predefined metrics (average cpu utilization, average memory utilization, request count per target) or you can define your own. The metrics are aggregated across all of the tasks your service is running.</li><li>Setting the metrics: typically, you would want a metric like CPU utilization to use a threshold no higher than 75% so that you still have some left to handle traffic spikes.</li></ul><h4 id="step-scaling" tabindex="-1"><a class="header-anchor" href="#step-scaling" aria-hidden="true">#</a> Step Scaling</h4><p>Step scaling is a good option when you need more fine-grained control, or your metrics fluctuate unpredictably for a given load.</p><ul><li>Instead of a single target for the metric, you define high and low thresholds. You also define the behavior when the threshold is exceeded - how much capacity to add or remove.</li><li>The Step Adjustments refer to creating a set of scaling adjustments such that the aggressiveness of the capacity response depends on the size of the alarm breach.</li><li>You create and manage the CloudWatch alarms for the scaling policies.</li><li>Step scaling is also the best option when working with a WebSocket application.</li></ul><h4 id="scheduled-scaling" tabindex="-1"><a class="header-anchor" href="#scheduled-scaling" aria-hidden="true">#</a> Scheduled Scaling</h4><p>App Autoscaling Scheduled Actions increase or decrease the minimum/maximum capacity based on the date/time (can be a one-time event or a cron).</p><h3 id="using-scheduled-scaling-for-cost-savings" tabindex="-1"><a class="header-anchor" href="#using-scheduled-scaling-for-cost-savings" aria-hidden="true">#</a> Using Scheduled Scaling for Cost Savings</h3><p>We recommend using scheduled scaling for cost savings in the lower environments. For example, if the lower environments of your ECS Service are used only during business hours for development purposes, scheduled scaling actions can shut down the service on nights and weekends, yielding significant savings.</p><h4 id="how-it-works" tabindex="-1"><a class="header-anchor" href="#how-it-works" aria-hidden="true">#</a> How it works:</h4><p>ECS Fargate Services are stopped by setting the count of running tasks to 0.</p><p>The service&#39;s capacity can be set to 0 on a schedule (one-time event or cron) by creating an App Autoscaling Scheduled Action which sets the max capacity of the service to 0. When the action is triggered, the new max capacity is below the service&#39;s current capacity, so autoscaling scales in to the new maximum (0).</p><div class="language-hcl line-numbers-mode" data-ext="hcl"><pre class="language-hcl"><code><span class="token keyword">resource <span class="token type variable">&quot;aws_appautoscaling_target&quot;</span></span> <span class="token string">&quot;ecs_target_example&quot;</span> <span class="token punctuation">{</span>
   <span class="token property">service_namespace</span>  <span class="token punctuation">=</span> <span class="token string">&quot;ecs&quot;</span>
   <span class="token property">resource_id</span>        <span class="token punctuation">=</span> <span class="token string">&quot;service/<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span>aws_ecs_cluster<span class="token punctuation">.</span>example<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span>/<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span>aws_ecs_service<span class="token punctuation">.</span>example<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span>&quot;</span>
   <span class="token property">scalable_dimension</span> <span class="token punctuation">=</span> <span class="token string">&quot;ecs:service:DesiredCount&quot;</span>
   <span class="token property">min_capacity</span>       <span class="token punctuation">=</span> var.min_capacity
   <span class="token property">max_capacity</span>       <span class="token punctuation">=</span> var.max_capacity
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">&quot;aws_appautoscaling_scheduled_action&quot;</span></span> <span class="token string">&quot;shutdown_example&quot;</span> <span class="token punctuation">{</span>
   <span class="token property">name</span>               <span class="token punctuation">=</span> <span class="token string">&quot;<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">service_name</span><span class="token punctuation">}</span></span>-shutdown-example-<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">env</span><span class="token punctuation">}</span></span>&quot;</span>
   <span class="token property">service_namespace</span>  <span class="token punctuation">=</span> aws_appautoscaling_target.ecs_target_example.service_namespace
   <span class="token property">resource_id</span>        <span class="token punctuation">=</span> aws_appautoscaling_target.ecs_target_example.resource_id
   <span class="token property">scalable_dimension</span> <span class="token punctuation">=</span> aws_appautoscaling_target.ecs_target_example.scalable_dimension
   <span class="token property">schedule</span>           <span class="token punctuation">=</span> var.shutdown_schedule
   
   <span class="token keyword">scalable_target_action</span> <span class="token punctuation">{</span>
      <span class="token property">max_capacity</span> <span class="token punctuation">=</span> <span class="token number">0</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A scheduled action does not keep track of the original values or return them after a certain time. So to start your service you must have a second action to return to the previous capacity.</p><p>To start the service, create a second App Autoscaling Scheduled Action which returns the min and max capacity values to their previous values. Since the new minimum capacity is above the current capacity (0), the task count will be raised to the new minimum. Your other autoscaling rules (target tracking or step scaling) will trigger further scaling out as needed.</p><div class="language-hcl line-numbers-mode" data-ext="hcl"><pre class="language-hcl"><code><span class="token keyword">resource <span class="token type variable">&quot;aws_appautoscaling_scheduled_action&quot;</span></span> <span class="token string">&quot;startup_example&quot;</span> <span class="token punctuation">{</span>
   <span class="token property">name</span>               <span class="token punctuation">=</span> <span class="token string">&quot;<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">service_name</span><span class="token punctuation">}</span></span>-startup-example-<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">env</span><span class="token punctuation">}</span></span>&quot;</span>
   <span class="token property">service_namespace</span>  <span class="token punctuation">=</span> aws_appautoscaling_target.ecs_target_example.service_namespace
   <span class="token property">resource_id</span>        <span class="token punctuation">=</span> aws_appautoscaling_target.ecs_target_example.resource_id
   <span class="token property">scalable_dimension</span> <span class="token punctuation">=</span> aws_appautoscaling_target.ecs_target_example.scalable_dimension
   <span class="token property">schedule</span>           <span class="token punctuation">=</span> var.startup_schedule

   <span class="token keyword">scalable_target_action</span> <span class="token punctuation">{</span>
      <span class="token property">min_capacity</span> <span class="token punctuation">=</span> var.min_capacity 
      <span class="token property">max_capacity</span> <span class="token punctuation">=</span> var.max_capacity
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/NIT-Administrative-Systems/AS-CloudDocs/edit/stable/infrastructure/ecs-fargate.md" rel="noopener noreferrer" target="_blank" aria-label="Edit Page"><!--[--><!--]--> Edit Page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: nick.evans@northwestern.edu">Nick Evans</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/AS-CloudDocs/infrastructure/file-handling-on-lambda.html" class="" aria-label="File Handling on Lambda"><!--[--><!--]--> File Handling on Lambda <!--[--><!--]--></a></span><span class="next"><a href="/AS-CloudDocs/infrastructure/ses.html" class="" aria-label="Simple Email Service (SES)"><!--[--><!--]--> Simple Email Service (SES) <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/AS-CloudDocs/assets/app-52f03298.js" defer></script>
  </body>
</html>
