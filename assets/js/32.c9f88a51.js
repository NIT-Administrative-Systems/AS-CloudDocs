(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{394:function(t,e,a){"use strict";a.r(e);var s=a(41),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"state-bucket-reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-bucket-reference"}},[t._v("#")]),t._v(" State Bucket Reference")]),t._v(" "),a("p",[t._v("These are the state buckets for various accounts:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Account")]),t._v(" "),a("th",[t._v("Bucket Name")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("DMA Sandbox")]),t._v(" "),a("td",[t._v("as-dma-sbx-tfstate")])]),t._v(" "),a("tr",[a("td",[t._v("DMA Nonprod")]),t._v(" "),a("td",[t._v("as-dma-nonprod-tfstate")])]),t._v(" "),a("tr",[a("td",[t._v("DMA Production")]),t._v(" "),a("td",[t._v("nit-et-ia-build-tfstate")])]),t._v(" "),a("tr",[a("td",[t._v("ADO Sandbox")]),t._v(" "),a("td",[t._v("as-ado-sbx-tfstate")])]),t._v(" "),a("tr",[a("td",[t._v("ADO Nonprod")]),t._v(" "),a("td",[t._v("ado-nonprod-build-tfstate")])]),t._v(" "),a("tr",[a("td",[t._v("ADO Production")]),t._v(" "),a("td",[t._v("ado-prod-build-tfstate")])])])]),t._v(" "),a("p",[t._v("Your "),a("code",[t._v("state.tf")]),t._v(" file should look like this:")]),t._v(" "),a("div",{staticClass:"language-hcl extra-class"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("terraform")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("backend"),a("span",{pre:!0,attrs:{class:"token type variable"}},[t._v(' "s3" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("bucket")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<bucket name for acct>"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("key")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<app name>/<environment>/terraform.tfstate"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("region")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"us-east-2"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"shared-resource-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shared-resource-state"}},[t._v("#")]),t._v(" Shared Resource State")]),t._v(" "),a("p",[t._v("Each AWS account has a set of shared resources maintained by the EACD-CloudOps team. The state for these resources has outputs that you can load in your own TF modules, as illustrated by the "),a("RouterLink",{attrs:{to:"/iac/example-tf.html"}},[t._v("Example Terraform Module")]),t._v(" article.")],1),t._v(" "),a("p",[t._v("The bucket name & region is the same as your account state bucket. Here are the S3 keys:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Account")]),t._v(" "),a("th",[t._v("S3 Object Key")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("DMA Sandbox")]),t._v(" "),a("td",[a("em",[t._v("Not available")])])]),t._v(" "),a("tr",[a("td",[t._v("DMA Nonprod")]),t._v(" "),a("td",[a("code",[t._v("dma-shared-resources/nonprod/terraform.tfstate")])])]),t._v(" "),a("tr",[a("td",[t._v("DMA Production")]),t._v(" "),a("td",[a("code",[t._v("dma-shared-resources/prod/terraform.tfstate")])])]),t._v(" "),a("tr",[a("td",[t._v("ADO Sandbox")]),t._v(" "),a("td",[a("code",[t._v("as-ado-sbx-resources/sandbox/terraform.tfstate")])])]),t._v(" "),a("tr",[a("td",[t._v("ADO Nonprod")]),t._v(" "),a("td",[a("code",[t._v("ado-shared-resources/nonprod/terraform.tfstate")])])]),t._v(" "),a("tr",[a("td",[t._v("ADO Production")]),t._v(" "),a("td",[a("code",[t._v("ado-shared-resources/prod/terraform.tfstate")])])])])]),t._v(" "),a("p",[t._v("If you want to review the available outputs, the easiest way is to look at the output stage on the Jenkins job. The jobs that build shared resources are in the CloudOps folder -> "),a("em",[t._v("DeptName")]),t._v(" Shared Resources.")])])}),[],!1,null,null,null);e.default=r.exports}}]);